# Agent 9: Child Verification

This agent verifies child shot images using Gemini 2.5 Pro's multimodal capabilities.
Checks both accuracy to description AND consistency with parent shot.
The verification prompts are constructed in agents/agent_9_child_verification.py

The agent:
1. Loads generated child shot image
2. Loads parent shot image (for consistency check)
3. Sends both images + child description to Gemini 2.5 Pro
4. Receives JSON verification response
5. Retries up to 3 times if rejected
6. Soft failure mode: continues pipeline even if verification fails

Verification Prompt Pattern:
---
Analyze this child shot image and compare with parent shot.

EXPECTED CHILD DESCRIPTION: {first_frame}
EXPECTED CHARACTERS: {characters}
EXPECTED LOCATION: {location}

Verification Criteria:
1. COMPOSITION: Child shot matches description?
2. CHARACTERS: All specified characters present?
3. LOCATION: Setting matches?
4. VISUAL QUALITY: Clear and cinematic?
5. CONSISTENCY: Maintains visual consistency with parent?
6. CONTINUITY: Smooth visual continuity from parent to child?

Respond with JSON:
{
  "approved": true/false,
  "confidence": 0.0-1.0,
  "issues": ["list of issues"],
  "recommendation": "approve/regenerate/manual_review"
}
---

Soft Failure: Logs warnings but doesn't block pipeline.
Ensures smooth visual flow in parent-child shot sequences.
